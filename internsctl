#!/bin/bash

# internsctl script to get CPU and Memory information

case $1 in
    "cpu")
        case $2 in
            "getinfo")
                cpu_info=$(lscpu)
                echo "CPU Information:"
                echo "$cpu_info"
                ;;
            *)
                echo "Invalid argument for 'cpu'. Use 'getinfo'."
                exit 1
                ;;
        esac
        ;;
    "memory")
        case $2 in
            "getinfo")
                mem_info=$(free)
                echo "Memory Information:"
                echo "$mem_info"
                ;;
            *)
                echo "Invalid argument for 'memory'. Use 'getinfo'."
                exit 1
                ;;
        esac
        ;;
    "user")
        case $2 in
            "create")
                if [ -z "$username" ]; then
                    echo "Enter the username kindly."
                    exit 1
                fi
                user=$username
                useradd -m -s /bin/bash $user

                if [ $? -eq 0 ]; then
                    echo "User created successfully."
                else
                    echo "Error creating $user."
                    exit 1
                fi
                ;;
            "list")
                regular_users=$(awk -F: '$3 >= 1000 && $1 != "nobody" {print $1}' /etc/passwd)
                echo "$regular_users"
                ;;
            *)
                echo "Invalid argument."
                exit 1 
                ;;
        esac
        ;;
    *)
        echo "Usage: $0 {cpu|memory|user} getinfo"
        exit 1
        ;;
es

